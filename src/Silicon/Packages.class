' Gambas class file


PUBLIC SUB Form_Open()
  DIM TempFile AS File
  DIM textLine AS String
  DIM items AS String[]
  DIM i AS Integer
  DIM key AS Integer
  
  ME.Center

  SHELL "dpkg-query -W --showformat='${Package},${Version},${Priority},${Installed-Size}\n' | tee /tmp/PACKAGESLIST" WAIT

  OPEN "/tmp/PACKAGESLIST" FOR READ AS #TempFile
  ' Setup ColumnView
  ColumnView1.Columns.Count = 4
  ColumnView1.Columns[0].Text = "Pakiet"
  ColumnView1.Columns[1].Text = "Wersja"
  ColumnView1.Columns[2].Text = "Priorytet"
  ColumnView1.Columns[3].Text = "Rozmiar"
  
  
  WHILE NOT Eof(TempFile)
    LINE INPUT #TempFile, textLine
    
    
    items = Split(textLine, ",", "\"")
    INC key
    ColumnView1.Add(key, items[0])
    FOR i = 1 TO items.Count - 1
      ColumnView1[key][i] = items[i]
    NEXT
  WEND
  CLOSE #TempFile
  CATCH
    TRY CLOSE #TempFile
END

PUBLIC SUB ColumnView1_Select()

  Message.Info("Funkcja wybierania nie zosta≈Ça jeszcze wprowadzona")

END
