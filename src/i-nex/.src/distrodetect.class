' Gambas class file

Static Public Sub distro_detect()
  Dim distro, codename As String
  Shell "lsb_release -i | sed -e 's/Distributor ID://' -e 's/\t//g'" Wait To distro
  Shell "lsb_release -c | sed -e 's/Codename://' -e 's/\t//g'" Wait To codename
  If distro Like "*Ubuntu*" Then
  Finfosys.TextArea29.Text = distro
  Finfosys.TextArea32.Text = codename
  Else
  If distro Like "*Arch*" Then
  Finfosys.TextArea29.Text = "Arch Linux"
  Finfosys.TextArea32.Text = codename
  Else
  If distro Like "*Debian*" Then
  Finfosys.TextArea29.Text = "Debian"
  Finfosys.TextArea32.Text = codename
  Else
  If distro Like "LinuxMint" And If codename Like "debian" Then
  Finfosys.TextArea29.Text = "Linux Mint Debian Edition"
  Finfosys.TextArea32.Text = codename
  Else
  If distro Like "LinuxMint" Then
  Finfosys.TextArea29.Text = "Linux Mint"
  Finfosys.TextArea32.Text = codename
  If distro Like "*Fedora*" Then
  Finfosys.TextArea29.Text = "Fedora"
  Finfosys.TextArea32.Text = codename
  If distro Like "*CrunchBang*" Then
  Finfosys.TextArea29.Text = "CrunchBang"
  Finfosys.TextArea32.Text = codename
  If distro Like "*frugalware*" Then
  Finfosys.TextArea29.Text = "frugalware"
  Finfosys.TextArea32.Text = codename
  If distro Like "*Peppermint*" Then
  Finfosys.TextArea29.Text = "Peppermint"
  Finfosys.TextArea32.Text = codename
  If Exist("/etc/SuSE-release") Then
  Finfosys.TextArea29.Text = "OpenSUSE"
  Finfosys.TextArea32.Text = codename
                    Endif
                  Endif
                Endif
              Endif
            Endif
          Endif
        Endif
      Endif
   Endif
 Endif
End
