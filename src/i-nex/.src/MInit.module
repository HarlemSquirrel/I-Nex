' Gambas module file

Public Sub _inits()
 If Access("" & User.Home & "/", gb.Write) = False Then
  Message.Error("Cannot write files to " & User.Home & "/.i-nex")
 Endif
 If Exist("" & User.Home & "/.i-nex") Then
  
  Print "i-nex in home folder is exist"
  Print "Try to remove files"
  Try Kill User.Home & "/.i-nex/screenfetch-dev"
  Try Kill User.Home & "/.i-nex/report-ng.sh"
  Try Kill User.Home & "/.i-nex/edid"
  
 Else
  Print "i-nex in home folder not exist"
  Try Mkdir User.Home & "/.i-nex/"
  Print "i-nex in home folder created"
 Endif
 
 Print "Copy nedded files"
 Print "Copy screenfetch-dev from Data/screenfetch-dev to " & User.Home &/ ".i-nex/screenfetch-dev"
  Copy "Data/screenfetch-dev" To User.Home &/ ".i-nex/screenfetch-dev"
 Print "Copy report-ng.sh from Data/report-ng.sh to " & User.Home &/ ".i-nex/report-ng.sh"
  Copy "Data/report-ng.sh" To User.Home &/ ".i-nex/report-ng.sh"
 Print "Copy edid from Data/edid to " & User.Home &/ ".i-nex/edid"
  Copy "Data/edid" To User.Home &/ ".i-nex/edid"
 Print "Execute copied files"
 
 Exec ["/bin/bash", "" & User.Home & "/.i-nex/screenfetch-dev"] Wait
 Exec ["/bin/bash", "" & User.Home & "/.i-nex/report-ng.sh"] Wait
End
